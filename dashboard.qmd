---
title: "Dashboard de Ventas"
format: 
    html:
         page-layout: article
toc: false
author: 
  - name: "Federico Cirett Torres"
    email: "fd.cirett@gmail.com"     
    url: "https://www.linkedin.com/in/federico-cirett-torres"          
    affiliations:
        - name : "[ðŸ“„ CV]()"
  - name: "Gerardo Leyva Conde"
  - name: "Roberto Navarro Bartolini"
  - name: "Abraham Rojo Salazar"
date: last-modified
date-format: long
lang: es
---

::: {style="text-align: justify"}
# ResumÃ©n:

El objetivo de este proyecto es visualizar la distribuciÃ³n de productos en las sucursales de CT International. Actualmente, la empresa gestiona el aspecto logÃ­stico mediante archivos de Excel. Se busca optimizar esta tarea mediante una herramienta intuitiva que permita visualizar la informaciÃ³n de manera mÃ¡s eficiente. El Ã©xito del proyecto se evaluarÃ¡ en funciÃ³n de la capacidad del dashboard para proporcionar informaciÃ³n valiosa a los usuarios de forma diaria.


<!---------------------------------------------------------------------------------------------------------------------->

<!-- PREPARACIÃ“N DE DATOS -->

<!---------------------------------------------------------------------------------------------------------------------->

# PreparaciÃ³n de datos

## ValidaciÃ³n de datos

Para obtener valor del dashboard, se requiere tener confianza en que los datos plasmados/utilizados reflejen la realidad. Por esto, es importante tener criterios de validaciÃ³n de estos a la mano. 

### Validaciones bÃ¡sicas

**Registros no nulos :**

Para nuestro caso, los registros nulos no nos sirven para nada por el momento. Es por ello que los filtraremos del conjunto final de datos.

**Formatos consistentes de columnas :**

Se va definir en base el diccionario de datos los formatos que deben tener cada columna, cuales se utilizaran como el criterio principal de validaciÃ³n.




### Rangos de valor y Duplicidad

**Suma de ventas por producto total deben ser igual a la suma de categorias total :**

Esta validaciÃ³n consiste en verificar si se hace la agrupaciÃ³n/separaciÃ³n entre productos y categorÃ­as correctamente. Para ello, se compara la suma de ventas a nivel producto con la suma de ventas a nivel categorÃ­a. 

**Precios,costos, cantidades positivas :**

Se revisarÃ¡ que columnas como `price` ,`cost`, `sales_{frequency}` caigan dentro de su rango lÃ³gico. 

**Precio debe ser mayor a costo :**

Para que nuestro conjunto de datos refleje informaciÃ³n que tenga sentido, una debe ser que el precio de producto sea mayor a su costo. Esto es por el contexto del fenÃ³meno.  


**Fechas dentro de 2020 y actualidad**

A nosotros y los usuarios solo nos interesan fechas que se encuentren dentro del periodo del 2020 hasta la actualidad, ya que no hay registro de facturas fuera de este periodo. 


**Velocidad de venta diaria debe ser menor o igual a la venta diaria** 

No son validas las velocidades de venta diaria que sean mayores a la venta diaria, ya que es un cociente de esta cantidad.
 

**Cantidad de folios debe ser igual a la cantidad de registros :** 

Esto es para probar la unicidad de la columna de `folio` con los registros. 


<!---------------------------------------------------------------------------------------------------------------------->

<!-- VISUALIZACIONES -->

<!---------------------------------------------------------------------------------------------------------------------->

# Visualizaciones  

## Ventas 

**Objetivo:** Esta grÃ¡fica quiere visualizar el comportamiento de las ventas de los productos seleccionados,(mÃ¡ximo 4 productos), para lograr observar posibles tendencias y estacionalidades dentro del periodo seleccionado. 

**Variables:** Se toman en cuenta las variables `date` y `sales_{frecuencia}` como los ejes horizontal y vertical respectivamente donde frecuencia indica si se trata de ventas diarias,semanales o mensuales. 

**Ejemplo:**
<p align="center">
  <img src="plots/almacen_ventas.png?updated=1" alt="ventas" width="500">
</p>

## RÃ¡pidez de Ventas

**Objetivo:** Se tiene en mente comparar la velocidad de venta de los productos seleccionados,(mÃ¡ximo 4 productos), para ayudar predecir la demanda de dichos productos.

**Variables:** Se toman en cuenta las variables `date` y `sales_velocity_{frequency}` como los ejes horizontal y vertical respectivamente donde `frecuency` indica si se trata de ventas diarias,semanales o mensuales.

**Ejemplo:**
<p align="center">
  <img src="plots/almacen_v_rapidez_ventas.png?updated=1" alt="rapidez_ventas" width="500">
</p>

## Histograma de ventas

**Objetivo:** Queremos visualizar en general la frecuencia de las cantidades pedidas del producto seleccionado. SÃ³lo se puede seleccionar uno a la vez. Esto ayuda tener una mejor idea en cuanto el umbral mÃ­nimo de productos que deben haber en almacen para evitar perder una venta potencial.

**Variables:** Se toman en cuenta las variables `date` y `quantity` como los ejes horizontal y vertical respectivamente.

**Ejemplo:**
<p align="center">
  <img src="plots/hist_ventas_prod.png?updated=1" alt="histograma" width="500">
</p>


## Mapa de Calor de Ventas
**Objetivo:** Visualizar Ã¡reas geogrÃ¡ficas en donde hay mÃ¡s actividad de ventas. Ayuda identificar quÃ© sucursales requieren mantener mÃ¡s productos en almacen por posibles ventas futuras.

**Variables:** Se utilizan las variables `state`,`quantity` y el archivo _gadm41_MEX_shp/gadm41_MEX_1.shp_ para realizar el mapa de calor. La variable `quantity` se suma por estado y se hace una uniÃ³n entre tablas sobre `state`.  

**Ejemplo:**
<p align="center">
  <img src="plots/heatmap_ventas_mexico.png?updated=1" alt="dashboard1" width="500" >
</p>

## KPIs

**Objetivo:** Tener a la mano valores claves en la toma de decisiones relacionadas al surtimiento de productos. Los valores que consideramos Ãºtiles fueron las ventas totales,costo total, la ganancia total, y el cociente de inventario del producto seleccionado,(sÃ³lo uno a la vez).


**Variables:** Estos son los KPIs en cuestiÃ³n y el cÃ³mo se obtienen: 

- `total_sales` : Se suman todos los valores de `quantity` 

- `total_profit` : Se suman todos los valores de `profit` 

- `total_cost` : Se multiplica `cost` por `total_sales` 

- `inventory_t_ratio` : Se divide `total_cost` entre el valor promedio de inventario del producto seleccionado. 



## Ventas por producto

**Objetivo:** Visualizar productos con prioridad junto con la cantidad de ventas que aportaron durante el periodo. El criterio de prioridad que se utiliza para asignarle magnitud de prioridad a cada producto es en base cuanto valor aporta al valor total del mÃ©s.

**Variables:** Se utilizaron las variables `date`,`quantity`,`cost` para crear las caracterÃ­sticas: 

- `cost` : Costo del producto 

- `total_sales` : Se suman todos los valores de `quantity` por producto agrupado

- `annual_value` : MultiplicaciÃ³n de los valores de `total_sales` y `cost`

- `cummulative_val`: Se ordena el dataframe de mayor a menor valor de `annual_value` y se suma cumulativamente `annual_value` entre el total de este mismo.

- `priority`: Se le aplica un mÃ©todo de clasificaciÃ³n a `cummulative_val`

**Ejemplo:**
<p align="center">
  <img src="plots/productos_abc_chart.png?updated=1" alt="dashboard1" width="500">
</p>


## Ventas por categorÃ­a

**Objetivo:** Mismo objetivo que el de ventas por producto, mismo mÃ©todo. Lo Ãºnico que cambÃ­a es como se agrupan los datos para generar la grÃ¡fica en base las categorÃ­as. 

**Ejemplo:**
<p align="center">
  <img src="plots/categorias_abc_chart.png?updated=1" alt="dashboard1" width="500">
</p>



<!---------------------------------------------------------------------------------------------------------------------->

<!-- DOCUMENTACIÃ“N -->

<!---------------------------------------------------------------------------------------------------------------------->

# DocumentaciÃ³n

## Estructura de proyecto

```
ct_dashboard/
â”‚
â”œâ”€â”€ app.py                    # Punto de entrada principal (main)
â”‚
â”‚
â”œâ”€â”€ data/                     # Datos locales (CSV, JSON, etc.)
â”‚   â”œâ”€â”€ ventas.csv
â”‚   â””â”€â”€ clientes.csv
â”‚
â”œâ”€â”€ src/                      # CÃ³digo fuente (mÃ³dulos auxiliares)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ data_loader.py        # Funciones para cargar datos
â”‚   â”œâ”€â”€ preprocess.py         # Limpieza y transformaciÃ³n de datos
â”‚   â”œâ”€â”€ graphs.py             # Funciones para generar grÃ¡ficos
â”‚   â””â”€â”€ utils.py              # Funciones de utilidad (colores, formatos, etc.)
â”‚
â”œâ”€â”€ assets/                   # Recursos estÃ¡ticos (imÃ¡genes, CSS, logos)
â”‚   â”œâ”€â”€ logo.png
â”‚   â””â”€â”€ style.css
â”‚      
â”œâ”€â”€ .env
â”œâ”€â”€ license.md
â”œâ”€â”€ poetry.lock
â”œâ”€â”€ pyproject.toml            # Dependencias del proyecto
â””â”€â”€ README.md                 # DescripciÃ³n del proyecto

```

## Tech Stack

- **Lenguaje** : Python 3.12
- **Bases de datos** :Microsoft SQL Server,MongoDB, MySQL (mysql-connector-python)
- **AnÃ¡lisis de Datos y Reportes** : Pandas
- **Despliegue** : Streamlit



## Licencia
Este proyecto se rige bajo la licencia de MIT.

:::

